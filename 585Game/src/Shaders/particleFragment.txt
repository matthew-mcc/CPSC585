#version 330 core
in vec2 TexCoords;
in vec4 ParticleColor;
in float depth;
out vec4 color;

uniform sampler2D sprite;

uniform bool doFog;
uniform vec3 fogColor;

void main()
{
    color = (texture(sprite, TexCoords) * ParticleColor);
    if (doFog) color = vec4((1.0-depth)*color.xyz + (depth)*fogColor, color.a);
}